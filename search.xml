<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>摆脱鼠标编程</title>
    <link href="/posts/57db8602.html"/>
    <url>/posts/57db8602.html</url>
    
    <content type="html"><![CDATA[<ul><li>**Ctrl + Alt + L：**代码快速自动缩进整理</li><li>**Ctrl + Shift + F10：**快速运行程序</li><li>**Ctrl + Shift + ↑↓：**快速移动当前行代码到另一行</li><li>**Ctrl + Shift + ←→：**快速选中代码</li><li>**Ctrl + c&#x2F;v：**复制粘贴</li><li>**Ctrl + O：**快速实现该方法</li><li>**Ctrl + Z：**撤销</li><li>**Ctrl + F12：**查看当前类的所有方法</li><li>**Ctrl + W：**选中你所想选的内容</li><li>**Ctrl + &#x2F;：**快速注释</li><li>**Ctrl + F:**查找文本</li><li>**Ctrl + F2：**停止程序</li><li>**Alt + Enter：**光标选中报红位置，然后可以快速处理问题</li><li>**Alt + Enter：**快速补全代码</li><li>**Alt + Insert：**快速调用构造函数、toString、equals、get、set等等</li><li>**Alt + F4：**快速关闭当前程序</li><li>**Window + L：**快速锁屏</li><li>**Window + E：**快速打开计算机</li><li>**Window + D：**快速回到桌面</li></ul>]]></content>
    
    
    <categories>
      
      <category>工具</category>
      
    </categories>
    
    
    <tags>
      
      <tag>小技巧</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>深入浅出TypeScript</title>
    <link href="/posts/e86ee304.html"/>
    <url>/posts/e86ee304.html</url>
    
    <content type="html"><![CDATA[<h1 id="深入浅出TypeScript"><a href="#深入浅出TypeScript" class="headerlink" title="深入浅出TypeScript"></a>深入浅出TypeScript</h1><h3 id="1-为什么要学TS"><a href="#1-为什么要学TS" class="headerlink" title="1.为什么要学TS"></a>1.为什么要学TS</h3><table><thead><tr><th align="center">TypeScript</th><th align="center">JavaScript</th></tr></thead><tbody><tr><td align="center">JavaScript的超集，用于解决大型项目的代码复杂性</td><td align="center">一种脚本语言，用于创建动态网页</td></tr><tr><td align="center">强类型，支持静态和动态类型</td><td align="center">动态弱类型语言</td></tr><tr><td align="center">可以在编译期间发现并纠正错误</td><td align="center">只能在运行时发现错误</td></tr><tr><td align="center">不允许改变变量的数据类型</td><td align="center">变量可以被赋值成不同类型</td></tr></tbody></table><h4 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h4><ul><li>类型安全</li><li>下一代JS特性</li><li>完善的工具链</li></ul><p>js的缺点：</p><ol><li>数据类型</li><li>逻辑问题</li><li>访问不存在的属性</li><li>拼写错误不提示</li></ol><h1 id="编译Typescript"><a href="#编译Typescript" class="headerlink" title="编译Typescript"></a>编译Typescript</h1><h4 id="一-命令行编译"><a href="#一-命令行编译" class="headerlink" title="一.命令行编译"></a>一.命令行编译</h4><p>1.创建<code>.ts</code>文件</p><p>2.全局安装typescript</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">pnpm i typescript -g<br></code></pre></td></tr></table></figure><p>3.使用<code>tsc</code>命令编译</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shel">tsc index.ts<br></code></pre></td></tr></table></figure><h4 id="二-自动化编译"><a href="#二-自动化编译" class="headerlink" title="二.自动化编译"></a>二.自动化编译</h4><p>1.创建<code>tsconfig.json</code>文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tsc --init<br></code></pre></td></tr></table></figure><p>2.监视目录中.ts的文件变化</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tsc --w<br></code></pre></td></tr></table></figure><h3 id="2-TS基础"><a href="#2-TS基础" class="headerlink" title="2. TS基础"></a>2. TS基础</h3><ol><li>基础类型</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-number">1.</span><span class="hljs-built_in">boolean</span>,<span class="hljs-built_in">number</span>,<span class="hljs-built_in">string</span><br><span class="hljs-number">2.</span>枚举<span class="hljs-keyword">enum</span><br><span class="hljs-number">3.</span><span class="hljs-built_in">any</span>，<span class="hljs-built_in">unknown</span>，<span class="hljs-built_in">void</span><br><span class="hljs-number">4.</span><span class="hljs-built_in">never</span><br><span class="hljs-number">5.</span>数组类型[]<br><span class="hljs-number">6.</span>元组类型tuple<br></code></pre></td></tr></table></figure><p>2.类型声明</p><p>使用<code>:</code>来对变量或函数形参，进行类型声明：</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span><br><span class="hljs-title function_">funtion</span>(<span class="hljs-attr">x</span>:<span class="hljs-built_in">number</span>, <span class="hljs-attr">y</span>:<span class="hljs-built_in">number</span>):<span class="hljs-built_in">number</span> &#123;<br><span class="hljs-keyword">return</span> x+y<br>&#125;<br><span class="hljs-keyword">let</span> res = <span class="hljs-title function_">funtion</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p><code>:</code>也可以给变量附加上字面型变量，但不常见</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">s</span>:<span class="hljs-string">&#x27;hello&#x27;</span> （无法改变）<br></code></pre></td></tr></table></figure><p>3.类型推断</p><p><code>TS</code>会根据我们的代码进行类型推导</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> d = <span class="hljs-number">99</span> <span class="hljs-comment">//ts会推断变量d的类型是数字</span><br>d = <span class="hljs-literal">false</span> <span class="hljs-comment">//警告：不能将类型&quot;boolean&quot;分配给类型&quot;number&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>类型推断不是万能的，面对复杂类型时推断容易出问题，尽量明确编写类型声明</p></blockquote><p>4.interface 接口</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts">定义：接口是为了定义对象类型<br>特点：<br>-可选属性<br>-只读属性：<span class="hljs-keyword">readonly</span><br>-可以描述函数类型<br>-可以描述自定义属性<br></code></pre></td></tr></table></figure><p>5.类</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts">定义：写法和<span class="hljs-variable constant_">JS</span>差不多，增加了一些定义<br>特点：<br>-增加了<span class="hljs-keyword">public</span>，<span class="hljs-keyword">private</span>，<span class="hljs-keyword">protected</span>等修饰符<br>-抽象类；<br>-只能被继承，不能被实例化<br>-作为基类，抽象方法必须被子类实现<br>-<span class="hljs-keyword">interface</span>约束类，使用implements关键字<br><br></code></pre></td></tr></table></figure><h3 id="3-TS进阶"><a href="#3-TS进阶" class="headerlink" title="3.TS进阶"></a>3.TS进阶</h3><h5 id="1-高级类型"><a href="#1-高级类型" class="headerlink" title="1.高级类型"></a>1.高级类型</h5><ol><li><p>联合类型|</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span><br>num = <span class="hljs-number">8</span><br>num = <span class="hljs-string">&#x27;eight&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>交叉类型&amp;</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Student</span>= <span class="hljs-title class_">Person</span> &amp; &#123; <span class="hljs-attr">grade</span>: <span class="hljs-built_in">number</span> &#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">stu</span>:<span class="hljs-title class_">Student</span><br>stu.<span class="hljs-comment">//age</span><br><span class="hljs-comment">//grade</span><br><span class="hljs-comment">//name</span><br></code></pre></td></tr></table></figure></li><li><p>类型断言</p></li><li><p>类型别名（type VS interface）</p></li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs ts">-定义：给类型起个别名<br>-相同点：<br><span class="hljs-number">1.</span>都可以定义函数或对象<br><span class="hljs-number">2.</span>都允许继承<br>-差异点：<br><span class="hljs-number">1.</span><span class="hljs-keyword">interface</span>是<span class="hljs-variable constant_">TS</span>用来定义对象，<span class="hljs-keyword">type</span>时用来定义别名方便使用；<br><span class="hljs-number">2.</span><span class="hljs-keyword">type</span>可以定义基本类型，<span class="hljs-keyword">interface</span>不行；<br>3.<span class="hljs-keyword">interface</span>可以合并重复声明，type不行；<br><br>---相同点<br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person1</span> &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Person2</span> = &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">person1</span>:<span class="hljs-title class_">Person1</span> = &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;lin,</span><br><span class="hljs-string">age: 18</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">const person2:Person2 = &#123;</span><br><span class="hljs-string">name:&#x27;</span>lin<span class="hljs-string">&#x27;,</span><br><span class="hljs-string">age: 18</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">---不同点</span><br><span class="hljs-string">1.</span><br><span class="hljs-string">interface Person &#123;</span><br><span class="hljs-string">name: string</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">interface Person &#123;</span><br><span class="hljs-string">age: number</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">const person: Person = &#123;</span><br><span class="hljs-string">name :&#x27;</span>lin<span class="hljs-string">&#x27;,</span><br><span class="hljs-string">age:18</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">2.</span><br><span class="hljs-string">type Person = &#123;//Person报错</span><br><span class="hljs-string">name:string</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">type Person = &#123;//Person报错</span><br><span class="hljs-string">age: number</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">const person : Person = &#123;</span><br><span class="hljs-string">    name: &#x27;</span>lin<span class="hljs-string">&#x27;,</span><br><span class="hljs-string">    age:18//整条报错</span><br><span class="hljs-string">&#125; </span><br></code></pre></td></tr></table></figure><ol start="2"><li><h5 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ts">基本定义：<br><span class="hljs-number">1.</span>泛型的语法是&lt;&gt;里面写类型参数<br><span class="hljs-number">2.</span>使用时有两种方法指定类型：<br><span class="hljs-number">1.</span>定义要使用的类型<br><span class="hljs-number">2.</span>通过<span class="hljs-variable constant_">TS</span>类型推断，自动推导类型<br>!<span class="hljs-number">3.</span>泛型的作用时临时占位，之后通过传来的类型进行推导；<br><br><span class="hljs-comment">//</span><br><span class="hljs-keyword">function</span> print&lt;T&gt;(<span class="hljs-attr">arg</span>: T): T &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arg);<br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br><br>print&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&#x27;hello&#x27;</span>) <span class="hljs-comment">// 定义T为 string</span><br><br><span class="hljs-title function_">print</span>(<span class="hljs-string">&#x27;hello&#x27;</span>) <span class="hljs-comment">//TS 类型推断，自动推导类型为string</span><br><br></code></pre></td></tr></table></figure><p>基础操作符</p><ul><li>typeof：获取类型</li><li>keyof：获取所有键</li><li>in：遍历枚举类型</li><li>T[K]：索引访问</li><li>extends：泛型约束</li></ul><p>常用工具类型</p><ul><li>Partial<T>: 将类型属性变为可选</li><li>Required<T> : 将类型属性变为必选</li><li>Readonly<T> : 将类型属性变为只读</li></ul><p>​</p></li></ol><h3 id="4-TS实战"><a href="#4-TS实战" class="headerlink" title="4.TS实战"></a>4.TS实战</h3><ol><li><p>声明文件</p><ul><li>declear：三方库需要类型声明文件</li><li>.d.ts：声明文件定义</li><li>@types：三方库TS类型包</li><li>tsconfig.json：定义TS的配置</li></ul></li><li><p>泛型约束后端接口类型</p></li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br><br><span class="hljs-keyword">interface</span> API &#123;<br>    <span class="hljs-string">&#x27;book/detail&#x27;</span>: &#123;<br>        <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>,<br>    &#125;,<br>    <span class="hljs-string">&#x27;book/comment&#x27;</span>: &#123;<br>        <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span><br>        <span class="hljs-attr">comment</span>: <span class="hljs-built_in">string</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> request&lt;T <span class="hljs-keyword">extends</span> keyof <span class="hljs-variable constant_">API</span>&gt;(<span class="hljs-attr">url</span>: T,obj : <span class="hljs-variable constant_">API</span>[T])&#123;<br>    <span class="hljs-keyword">return</span> axios.<span class="hljs-title function_">post</span>(url, obj)<br>&#125;<br><br><span class="hljs-title function_">request</span>(<span class="hljs-string">&#x27;book/comment&#x27;</span> , &#123;<br>    <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">comment</span>: <span class="hljs-string">&#x27;good&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure><h2 id="5-ts常用类型"><a href="#5-ts常用类型" class="headerlink" title="5.ts常用类型"></a>5.ts常用类型</h2><h5 id="一-any"><a href="#一-any" class="headerlink" title="一.any"></a>一.any</h5><p><code>any</code>的含义是：任意类型。一旦将变量类型限制为<code>any</code>，意味着<em><strong>放弃了</strong></em>对该变量的类型检查。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> a<br>a = <span class="hljs-number">99</span> <br>a = <span class="hljs-literal">false</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">//any的坑害</span><br>b = a <span class="hljs-comment">//将一个boolean赋值给string类型</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b)<span class="hljs-comment">//结果为“false”</span><br></code></pre></td></tr></table></figure><h5 id="二-unknown"><a href="#二-unknown" class="headerlink" title="二.unknown"></a>二.unknown</h5><p><code>unknown</code>:未知类型</p><ol><li>可以理解为一个类型安全的 <code>any</code></li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">unknown</span><br>a = <span class="hljs-number">99</span> <br>a = <span class="hljs-literal">false</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span><br>b = a <span class="hljs-comment">//warning: 不能将类型‘unknown’分配给类型‘string’</span><br></code></pre></td></tr></table></figure><ol start="2"><li>会强制开发者在使用前进行类型检查，可以通过类型判断或类型断言的方式实现安全操作变量</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">unknown</span><br>a = <span class="hljs-number">1</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span><br>x = a <span class="hljs-comment">//Type unknown is not assignable to type string</span><br><br><span class="hljs-comment">//第一种方法：类型判断</span><br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> a === <span class="hljs-string">&quot;string&quot;</span>)&#123;<br>    x = a<br>&#125;<br><span class="hljs-comment">//第二种方法：类型断言</span><br>x = a <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span><br><span class="hljs-comment">//第三种方法：类型断言</span><br>x = &lt;<span class="hljs-built_in">string</span>&gt;a<br></code></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">str3</span>: <span class="hljs-built_in">unknown</span><br>str3 = <span class="hljs-string">&quot;hello&quot;</span><br>(str3 <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>).<span class="hljs-title function_">toUpperCase</span>()<br></code></pre></td></tr></table></figure><h3 id="3-never"><a href="#3-never" class="headerlink" title="3. never"></a>3. never</h3><p><code>never</code>:任何值都不是,不能有值。</p><ol><li>几乎不使用<code>never</code>,对变量赋值无意义。</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">never</span><br><span class="hljs-comment">// 任何赋值都无意义</span><br></code></pre></td></tr></table></figure><ol start="2"><li><code>never</code>﻿一般是﻿TypeScript﻿主动推断出来的</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span><br>a = <span class="hljs-string">&quot;hello&quot;</span><br><br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> a === <span class="hljs-string">&quot;string&quot;</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a)<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a) <span class="hljs-comment">//a: never</span><br>&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li><code>never</code>可用于限制函数的返回值(如抛出错误的情况)，表示函数不能结束，或者不能正常结束。</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">throwError</span>(<span class="hljs-params"><span class="hljs-attr">str</span>:<span class="hljs-built_in">string</span></span>):<span class="hljs-built_in">never</span>&#123;<br>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;程序异常退出&#x27;</span>+str)<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-void"><a href="#4-void" class="headerlink" title="4. void"></a>4. void</h3><p><code>void</code>:用于函数返回值声明，表示函数返回值为空。</p><ol><li>函数返回值为空，调用者也不应该依赖其返回值进行任何操作。</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> logMsg = (<span class="hljs-attr">msg</span>:<span class="hljs-built_in">string</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br>&#125;<br><span class="hljs-title function_">logMsg</span>(<span class="hljs-string">&#x27;TS你好&#x27;</span>)<br></code></pre></td></tr></table></figure><blockquote><p>注意：编码者没有编写return﻿指定函数返回值，所以﻿logMessage﻿函数是没有显式返回值的，但会有一个隐式返回值 ，是<code>﻿undefined</code>﻿。虽然函数返回类型为﻿<code>void﻿</code>，但也是可以接受undefined﻿的，简单记： ﻿<code>undefined﻿</code>是﻿<code>void</code>﻿可以接受的一种“空”。</p></blockquote><ol><li>对函数返回值声明为<code>void</code>的函数，TS接受如下写法</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// 无警告</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">logMessage</span>(<span class="hljs-params"><span class="hljs-attr">msg</span>:<span class="hljs-built_in">string</span></span>):<span class="hljs-built_in">void</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br>&#125;<br><span class="hljs-comment">// 无警告</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">logMessage</span>(<span class="hljs-params"><span class="hljs-attr">msg</span>:<span class="hljs-built_in">string</span></span>):<span class="hljs-built_in">void</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-comment">// 无警告</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">logMessage</span>(<span class="hljs-params"><span class="hljs-attr">msg</span>:<span class="hljs-built_in">string</span></span>):<span class="hljs-built_in">void</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span><br>&#125;<br></code></pre></td></tr></table></figure><ol><li><strong>返回值类型为﻿void﻿的函数，调用者不应依赖其返回值进行任何操作！</strong>:理解来说,被<code>void</code>声明的函数返回值,TS希望开发者从语义层面上不要关注其返回值,不期望依赖该函数用于其他的操作。</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">logMessage</span>(<span class="hljs-params"><span class="hljs-attr">msg</span>:<span class="hljs-built_in">string</span></span>):<span class="hljs-built_in">void</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br>&#125;<br><span class="hljs-keyword">let</span> result = <span class="hljs-title function_">logMessage</span>(<span class="hljs-string">&#x27;你好&#x27;</span>)<br><span class="hljs-keyword">if</span>(result)&#123; <span class="hljs-comment">// 此行报错：无法测试 &quot;void&quot; 类型的表达式的真实性</span><br><span class="hljs-variable language_">console</span>.<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">logMessage</span>(<span class="hljs-params"><span class="hljs-attr">msg</span>:<span class="hljs-built_in">string</span></span>):<span class="hljs-literal">undefined</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg)<br>&#125;<br><span class="hljs-keyword">let</span> result = <span class="hljs-title function_">logMessage</span>(<span class="hljs-string">&#x27;你好&#x27;</span>)<br><span class="hljs-keyword">if</span>(result)&#123; <span class="hljs-comment">// 此行无警告</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;logMessage&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>理解 void 与 undefined:</strong><br><code>void﻿</code>是一个广泛的概念，用来表达“空”，而 ﻿<code>undefined﻿</code>则是这种“空”的具体<br>实现。<br>因此可以说 <code>﻿undefined</code>﻿是﻿<code>void﻿</code>能接受的一种“空”的状态。<br>也可以理解为： <code>void</code>﻿包含<code>﻿undefined</code>﻿，但﻿<code>void﻿</code>所表达的语义超越了﻿<code>undefi ned﻿</code>， ﻿<code>void﻿</code>是一种意图上的约定，而不仅仅是特定值的限制。</p><p><strong>总结:</strong></p><p>如果一个函数返回类型为<code>void</code>﻿，那么：</p><ol><li>从语法上讲：函数是可以返回<code>undefined﻿</code>的，至于显式返回，还是隐式返回，这无所谓！</li><li>从语义上讲：函数调用者不应关心函数返回的值，也不应依赖返回值进行任何操作！即使我们知道它返回了<code>undefined﻿</code>。</li></ol><h3 id="5-object"><a href="#5-object" class="headerlink" title="5.object"></a>5.object</h3><h4 id="object与Object"><a href="#object与Object" class="headerlink" title="object与Object"></a>object与Object</h4><ul><li><code>object</code>:所有非原始类型，可存储对象，函数，数组等。</li><li><code>Object</code>:所有可以调用 Object﻿方法的类型，即除了<code>undefined</code>和<code>null</code>的任何值</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>:<span class="hljs-built_in">object</span> <span class="hljs-comment">//a的值可以是任何【非原始类型】，包括：对象、函数、数组等</span><br><span class="hljs-comment">// 以下代码，是将【非原始类型】赋给a，所以均符合要求</span><br>a = &#123;&#125;<br>a = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;张三&#x27;</span>&#125;<br>a = [<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>]<br>a = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;&#125;<br>a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&#x27;123&#x27;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;&#125;<br>a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>()<br><span class="hljs-comment">// 以下代码，是将【原始类型】赋给a，有警告</span><br>a = <span class="hljs-number">1</span> <span class="hljs-comment">// 警告：不能将类型“number”分配给类型“object”</span><br>a = <span class="hljs-literal">true</span> <span class="hljs-comment">// 警告：不能将类型“boolean”分配给类型“object”</span><br>a = <span class="hljs-string">&#x27;你好&#x27;</span> <span class="hljs-comment">// 警告：不能将类型“string”分配给类型“object”</span><br>a = <span class="hljs-literal">null</span> <span class="hljs-comment">// 警告：不能将类型“null”分配给类型“object”</span><br>a = <span class="hljs-literal">undefined</span> <span class="hljs-comment">// 警告：不能将类型“undefined”分配给类型“object”</span><br><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>:<span class="hljs-title class_">Object</span> <span class="hljs-comment">//b的值必须是Object的实例对象（除去undefined和null的任何值）</span><br><span class="hljs-comment">// 以下代码，均无警告，因为给a赋的值，都是Object的实例对象</span><br>b = &#123;&#125;<br>b = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;张三&#x27;</span>&#125;<br>b = [<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>]<br>b = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;&#125;<br>b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&#x27;123&#x27;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;&#125;<br>b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>()<br>b = <span class="hljs-number">1</span> <span class="hljs-comment">// 1不是Object的实例对象，但其包装对象是Object的实例</span><br>b = <span class="hljs-literal">true</span> <span class="hljs-comment">// truue不是Object的实例对象，但其包装对象是Object的实例</span><br>b = <span class="hljs-string">&#x27;你好&#x27;</span> <span class="hljs-comment">// “你好”不是Object的实例对象，但其包装对象是Object的实例</span><br><span class="hljs-comment">// 以下代码均有警告</span><br>b = <span class="hljs-literal">null</span> <span class="hljs-comment">// 警告：不能将类型“null”分配给类型“Object”</span><br>b = <span class="hljs-literal">undefined</span> <span class="hljs-comment">// 警告：不能将类型“undefined”分配给类型“Object”</span><br></code></pre></td></tr></table></figure><h4 id="声明类型"><a href="#声明类型" class="headerlink" title="声明类型"></a>声明类型</h4><h5 id="声明对象类型"><a href="#声明对象类型" class="headerlink" title="声明对象类型"></a>声明对象类型</h5><ol><li>对象类型字面量</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// 限制person1对象必须有name属性，age为可选属性</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">person1</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span> &#125;<br><span class="hljs-comment">// 含义同上，也能用分号做分隔</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">person2</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span> &#125;<br><span class="hljs-comment">// 含义同上，也能用换行做分隔</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">person3</span>: &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-comment">// 如下赋值均可以</span><br>person1 = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;李四&#x27;</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">18</span>&#125;<br>person2 = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;张三&#x27;</span>&#125;<br>person3 = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;王五&#x27;</span>&#125;<br><span class="hljs-comment">// 如下赋值不合法，因为person3的类型限制中，没有对gender属性的说明</span><br>person3 = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;王五&#x27;</span>,<span class="hljs-attr">gender</span>:<span class="hljs-string">&#x27;男&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><ol><li>索引签名：允许定义对象可以具有<strong>任意数量</strong>的属性，这些属性的键和类型是<strong>可变的</strong>。常用于：描述类型不确定的属性，（具有动态属性的对象）。</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// 限制person对象必须有name属性，可选age属性但值必须是数字，同时可以有任意数</span><br>量、任意类型的其他属性<br><span class="hljs-keyword">let</span> <span class="hljs-attr">person</span>: &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span><br>[<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span> <span class="hljs-comment">// 索引签名，完全可以不用key这个单词，换成其他的也可以</span><br>&#125;<br><span class="hljs-comment">// 赋值合法</span><br>person = &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;张三&#x27;</span>,<br><span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,<br><span class="hljs-attr">gender</span>:<span class="hljs-string">&#x27;男&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><h5 id="声明函数类型"><a href="#声明函数类型" class="headerlink" title="声明函数类型"></a>声明函数类型</h5><p><strong>函数类型注解</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">count</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span><br>count = <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br><span class="hljs-keyword">return</span> x + y<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><ul><li>TypeScript 中的﻿&#x3D;&gt;﻿在函数类型声明时表示函数类型，描述其参数类型和返回类型。</li><li>JavaScript 中的﻿&#x3D;&gt;﻿是一种定义函数的语法，是具体的函数实现。</li></ul></blockquote><h5 id="声明数组类型"><a href="#声明数组类型" class="headerlink" title="声明数组类型"></a>声明数组类型</h5><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">//类型声明</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">string</span>[]<br><span class="hljs-comment">//泛型定义</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr2</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="6-tuple"><a href="#6-tuple" class="headerlink" title="6.tuple"></a>6.tuple</h3><p><code>Tuple</code>是一种特殊的数组类型，可以存储<strong>固定数量</strong>的元素，并且每个元素的类型是<strong>已知</strong>的且<strong>可以不同</strong>。元组用于精确描述一组值的类型，<code> ?</code>﻿表示可选元素。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// 第一个元素必须是 string 类型，第二个元素必须是 number 类型。</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr1</span>: [<span class="hljs-built_in">string</span>,<span class="hljs-built_in">number</span>]<br><span class="hljs-comment">// 第一个元素必须是 number 类型，第二个元素是可选的，如果存在，必须是 boolean 类型。</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr2</span>: [<span class="hljs-built_in">number</span>,<span class="hljs-built_in">boolean</span>?]<br><span class="hljs-comment">// 第一个元素必须是 number 类型，后面的元素可以是任意数量的 string 类型</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr3</span>: [<span class="hljs-built_in">number</span>,...<span class="hljs-built_in">string</span>[]]<br><span class="hljs-comment">// 可以赋值</span><br>arr1 = [<span class="hljs-string">&#x27;hello&#x27;</span>,<span class="hljs-number">123</span>]<br>arr2 = [<span class="hljs-number">100</span>,<span class="hljs-literal">false</span>]<br>arr2 = [<span class="hljs-number">200</span>]<br>arr3 = [<span class="hljs-number">100</span>,<span class="hljs-string">&#x27;hello&#x27;</span>,<span class="hljs-string">&#x27;world&#x27;</span>]<br>arr3 = [<span class="hljs-number">100</span>]<br><span class="hljs-comment">// 不可以赋值，arr1声明时是两个元素，赋值的是三个</span><br>arr1 = [<span class="hljs-string">&#x27;hello&#x27;</span>,<span class="hljs-number">123</span>,<span class="hljs-literal">false</span>]<br></code></pre></td></tr></table></figure><h3 id="7-enum"><a href="#7-enum" class="headerlink" title="7.enum"></a>7.enum</h3><p><code>enum﻿</code>:枚举，定义一组命名常量，它能增强代码的可读性，也让代码更好维护。也可以指定枚举成员的初始值，其后的成员值会自动递增。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> &#123;<br>    <span class="hljs-title class_">Up</span>,<br>    <span class="hljs-title class_">Down</span>,<br>    <span class="hljs-title class_">Left</span>,<br>    <span class="hljs-title class_">Right</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>数字枚举</strong>:数字枚举一种最常见的枚举类型，其成员的值会自动递增，且数字枚举还具备反向映射的特点，在下面代码的打印中，不难发现：可以通过值来获取对应的枚举成员名称 。好处是语义性更强，便于维护。</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// 定义一个描述【上下左右】方向的枚举Direction</span><br><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> &#123;<br><span class="hljs-title class_">Up</span>,<br><span class="hljs-title class_">Down</span>,<br><span class="hljs-title class_">Left</span>,<br><span class="hljs-title class_">Right</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Direction</span>) <span class="hljs-comment">// 打印Direction会看到如下内容</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">0:&#x27;Up&#x27;,</span><br><span class="hljs-comment">1:&#x27;Down&#x27;,</span><br><span class="hljs-comment">2:&#x27;Left&#x27;,</span><br><span class="hljs-comment">3:&#x27;Right&#x27;,</span><br><span class="hljs-comment">Up:0,</span><br><span class="hljs-comment">Down:1,</span><br><span class="hljs-comment">Left:2,</span><br><span class="hljs-comment">Right:3</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br><span class="hljs-comment">// 反向映射</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Direction</span>.<span class="hljs-property">Up</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Direction</span>[<span class="hljs-number">0</span>])<br><span class="hljs-comment">// 此行代码报错，枚举中的属性是只读的</span><br><span class="hljs-title class_">Direction</span>.<span class="hljs-property">Up</span> = <span class="hljs-string">&#x27;shang&#x27;</span><br></code></pre></td></tr></table></figure><ul><li><strong>字符串枚举</strong>:同理,枚举成员的值是字符串</li><li><strong>常量枚举:</strong> 常量枚举是一种特殊枚举类型，它使用 const﻿关键字定义，在编译时会被内联，避免生成一些额外的代码，推荐使用。</li></ul><blockquote><p><strong>何为编译时内联？</strong><br>所谓“内联”其实就是 TypeScript 在编译时，会将枚举成员引用替换为它们的实际值，而不是生成额外的枚举对象。这可以减少生成JavaScript 代码量，并提高运行时性能。</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Directions</span> &#123;<br><span class="hljs-title class_">Up</span>,<br><span class="hljs-title class_">Down</span>,<br><span class="hljs-title class_">Left</span>,<br><span class="hljs-title class_">Right</span><br>&#125;<br><span class="hljs-keyword">let</span> x = <span class="hljs-title class_">Directions</span>.<span class="hljs-property">Up</span>;<br><br><br><span class="hljs-meta">&quot;use strict&quot;</span>;<br><span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span> <span class="hljs-comment">/* Directions.Up */</span>;<br></code></pre></td></tr></table></figure><h3 id="8-type"><a href="#8-type" class="headerlink" title="8.type"></a>8.type</h3><p><code>type</code>:为任何类型创建别名,让代码更简洁,可读性更强；同时更方便的进行类型复用和扩展。</p><ol><li><strong>类型别名</strong>:使用 type﻿关键字定义， ﻿type﻿后跟类型名称，即类型别名。</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> num = <span class="hljs-built_in">number</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">price</span>: num<br>price = <span class="hljs-number">100</span><br></code></pre></td></tr></table></figure><ol start="2"><li><strong>联合类型</strong>:联合类型是一种高级类型，它表示一个值可以是几种不同类型之一。</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Status</span> = <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Gender</span> = <span class="hljs-string">&#x27;男&#x27;</span> | <span class="hljs-string">&#x27;女&#x27;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">printStatus</span>(<span class="hljs-params"><span class="hljs-attr">status</span>: <span class="hljs-title class_">Status</span></span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(status);<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">logGender</span>(<span class="hljs-params"><span class="hljs-attr">str</span>:<span class="hljs-title class_">Gender</span></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str)<br>&#125;<br><span class="hljs-title function_">printStatus</span>(<span class="hljs-number">404</span>);<br><span class="hljs-title function_">printStatus</span>(<span class="hljs-string">&#x27;200&#x27;</span>);<br><span class="hljs-title function_">printStatus</span>(<span class="hljs-string">&#x27;501&#x27;</span>);<br><span class="hljs-title function_">logGender</span>(<span class="hljs-string">&#x27;男&#x27;</span>)<br><span class="hljs-title function_">logGender</span>(<span class="hljs-string">&#x27;女&#x27;</span>)<br></code></pre></td></tr></table></figure><ol start="3"><li><strong>交叉类型</strong>:允许将多个类型合并为一个类型。合并后的类型将拥有所有被合并类型的成员。交叉类型通常用于对象类型。</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">//面积</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Area</span> = &#123;<br><span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">//高</span><br><span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">//宽</span><br>&#125;;<br><span class="hljs-comment">//地址</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Address</span> = &#123;<br><span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">//楼号</span><br><span class="hljs-attr">cell</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">//单元号</span><br><span class="hljs-attr">room</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">//房间号</span><br>&#125;;<br><span class="hljs-comment">// 定义类型House，且House是Area和Address组成的交叉类型</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">House</span> = <span class="hljs-title class_">Area</span> &amp; <span class="hljs-title class_">Address</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">house</span>: <span class="hljs-title class_">House</span> = &#123;<br><span class="hljs-attr">height</span>: <span class="hljs-number">180</span>,<br><span class="hljs-attr">width</span>: <span class="hljs-number">75</span>,<br><span class="hljs-attr">num</span>: <span class="hljs-number">6</span>,<br><span class="hljs-attr">cell</span>: <span class="hljs-number">3</span>,<br><span class="hljs-attr">room</span>: <span class="hljs-string">&#x27;702&#x27;</span><br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="9-特殊情况"><a href="#9-特殊情况" class="headerlink" title="9.特殊情况"></a>9.特殊情况</h3><p>使用<strong>类型声明</strong>限制函数返回值为void﻿时， ﻿TypeScript﻿并不会严格要求函数返回空。</p><ul><li>为什么?</li><li>是为了确保如下代码成立，我们知道 ﻿<code>Array.prototype.push</code>﻿ 的返回值是一个数字，而 <code>Array.prototype.forEach</code>﻿方法期望其回调的返回类型是﻿<code>void</code>﻿。</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">LogFunc</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">f1</span>: <span class="hljs-title class_">LogFunc</span> = <span class="hljs-function">() =&gt;</span> &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-number">100</span>; <span class="hljs-comment">// 允许返回⾮空值</span><br>&#125;;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">f2</span>: <span class="hljs-title class_">LogFunc</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-number">200</span>; <span class="hljs-comment">// 允许返回⾮空值</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">f3</span>: <span class="hljs-title class_">LogFunc</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-number">300</span>; <span class="hljs-comment">// 允许返回⾮空值</span><br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> src = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">const</span> dst = [<span class="hljs-number">0</span>];<br>src.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">el</span>) =&gt;</span> dst.<span class="hljs-title function_">push</span>(el))<br></code></pre></td></tr></table></figure><h3 id="10-属性修饰符"><a href="#10-属性修饰符" class="headerlink" title="10.属性修饰符"></a>10.属性修饰符</h3><table><thead><tr><th>修饰符</th><th>含义</th><th>具体规则</th></tr></thead><tbody><tr><td><code>public</code></td><td>公开的</td><td>可以被<strong>类内部、子类、类外部</strong>访问</td></tr><tr><td><code>protected</code></td><td>受保护的</td><td>可以被<strong>类内部、子类</strong>访问</td></tr><tr><td><code>private</code></td><td>私有的</td><td>可以被<strong>类内部</strong>访问</td></tr><tr><td><code>readonly</code></td><td>只读属性</td><td>属性无法修改</td></tr></tbody></table><h3 id="11-抽象类"><a href="#11-抽象类" class="headerlink" title="11.抽象类"></a>11.抽象类</h3><p><strong>定义:</strong> 抽象类是一种无法被实例化的类，专门用来定义类的结构和行为，类中可以写抽象方法，也可以写具体实现。抽象类主要用来为其派生类提供一个基础结构，要求其派生类必须实现其中的抽象方法。</p><p><strong>简单来说:</strong> 抽象类不能实例化，其意义是可以被继承，抽象类里可以有普通方法、也可以有抽象方法。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Package</span>&#123;<br>    <span class="hljs-comment">// 构造方法</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span><br><span class="hljs-params">        <span class="hljs-keyword">public</span> <span class="hljs-attr">weight</span>:<span class="hljs-built_in">number</span></span><br><span class="hljs-params">    </span>)&#123;<br><br>    &#125;<br>    <span class="hljs-comment">// 抽象方法</span><br>    <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">calculate</span>():<span class="hljs-built_in">number</span><br>    <span class="hljs-comment">// 具体方法</span><br>    <span class="hljs-title function_">printPackage</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`包裹重量为:<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.weight&#125;</span>\n运费为:<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.calculate()&#125;</span>`</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">StandardPackage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Package</span>&#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span><br><span class="hljs-params">        <span class="hljs-attr">weight</span>:<span class="hljs-built_in">number</span>,</span><br><span class="hljs-params">        <span class="hljs-keyword">public</span> <span class="hljs-attr">unitPrice</span>:<span class="hljs-built_in">number</span></span><br><span class="hljs-params"></span><br><span class="hljs-params">    </span>)&#123;<br>        <span class="hljs-variable language_">super</span>(weight)<br>    &#125;<br>    <span class="hljs-title function_">calculate</span>(): <span class="hljs-built_in">number</span> &#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">weight</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">unitPrice</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> pkg1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StandardPackage</span>(<span class="hljs-number">10</span>,<span class="hljs-number">5</span>)<br>pkg1.<span class="hljs-title function_">printPackage</span>()<br></code></pre></td></tr></table></figure><p><strong>总结:何时使用抽象类</strong></p><ol><li><strong>定义通用接口</strong>:为一组相关的类定义通用的行为（方法或属性）时。</li><li><strong>提供基础实现:</strong> 在抽象类中提供某些方法或为其提供基础实现，这样派生类就可以继承这些实现。</li><li><strong>确保关键实现:</strong> 强制派生类实现一些关键行为。</li><li><strong>共享代码和逻辑:</strong> 当多个类需要共享部分代码时，抽象类可以避免代码重复。</li></ol><h3 id="12-interface"><a href="#12-interface" class="headerlink" title="12.interface"></a>12.interface</h3><p><code>interface</code>﻿:一种定义结构的方式，主要作用是为：类、对象、函数等规定一种契约，这样可以确保代码的一致性和类型安全，但要注意interface﻿只能定义格式，不能包含任何实现 ！</p><ul><li>定义类结构</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PersonInterface</span> &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br><span class="hljs-title function_">speak</span>(<span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span><br>&#125;<br><span class="hljs-comment">// 定义一个类 Person，实现 PersonInterface 接口</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PersonInterface</span> &#123;<br><span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span><br><span class="hljs-params"><span class="hljs-keyword">public</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,</span><br><span class="hljs-params"><span class="hljs-keyword">public</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></span><br><span class="hljs-params"></span>) &#123; &#125;<br><span class="hljs-comment">// 实现接口中的 speak 方法</span><br><span class="hljs-title function_">speak</span>(<span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br><span class="hljs-comment">// 打印出包含名字和年龄的问候语句</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`你好，我叫<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>，我的年龄是<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.age&#125;</span>`</span>);<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-comment">// 创建一个 Person 类的实例 p1，传入名字 &#x27;tom&#x27; 和年龄 18</span><br><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;tom&#x27;</span>, <span class="hljs-number">18</span>);<br>p1.<span class="hljs-title function_">speak</span>(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><ul><li>定义对象结构</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserInterface</span> &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-keyword">readonly</span> <span class="hljs-attr">gender</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// 只读属性</span><br><span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span> <span class="hljs-comment">// 可选属性</span><br><span class="hljs-attr">run</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span><br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">user</span>: <span class="hljs-title class_">UserInterface</span> = &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-string">&quot;张三&quot;</span>,<br><span class="hljs-attr">gender</span>: <span class="hljs-string">&#x27;男&#x27;</span>,<br><span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br><span class="hljs-title function_">run</span>(<span class="hljs-params">n</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`奔跑了<span class="hljs-subst">$&#123;n&#125;</span>米`</span>)<br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>定义函数结构</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">CountInterface</span> &#123;<br>(<span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span>;<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">count</span>: <span class="hljs-title class_">CountInterface</span> = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> &#123;<br><span class="hljs-keyword">return</span> x + y<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>接口继承:</strong> 使用<code>extends</code>关键字实现接口继承</li><li>接口自动合并</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// PersonInterface接口</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PersonInterface</span> &#123;<br><span class="hljs-comment">// 属性声明</span><br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-comment">// 给PersonInterface接口添加新属性</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PersonInterface</span> &#123;<br><span class="hljs-comment">// 方法声明</span><br><span class="hljs-title function_">speak</span>(): <span class="hljs-built_in">void</span><br>&#125;<br><span class="hljs-comment">// Person类实现PersonInterface</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PersonInterface</span> &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br><span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br><span class="hljs-comment">// 构造器</span><br><span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></span>) &#123;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>&#125;<br><span class="hljs-comment">// 方法</span><br><span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;你好！我是老师:&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>何时使用接口</strong>:</p><ol><li><strong>定义对象格式:</strong> 描述数据类型、API响应格式、配置对象……</li><li><strong>类的契约:</strong> 规定一个类需要视线的哪些方法和属性</li><li><strong>扩展已有接口:</strong> 一般用于扩展第三方库的类型</li></ol></blockquote><h3 id="13-相似概念的区别"><a href="#13-相似概念的区别" class="headerlink" title="13.相似概念的区别"></a>13.相似概念的区别</h3><h4 id="13-1-interface-与-type-的区别"><a href="#13-1-interface-与-type-的区别" class="headerlink" title="13.1 interface 与 type 的区别"></a>13.1 interface 与 type 的区别</h4><ul><li><strong>相同点:</strong> interface﻿和﻿type﻿ 都可以用于定义对象结构，在定义对象结构时两者可以互换。</li><li><strong>不同点:</strong><ol><li><code>interface</code>:更专注于定义对象和类的结构，支持继承、合并。</li><li><code>type</code>:可以定义<strong>类型别名</strong>、<strong>联合类型</strong>、<strong>交叉类型</strong>，但不支持继承和自动合并。</li></ol></li></ul><p>简言之，对于需要复杂继承和扩展的类型，推荐使用<code>interface</code>&amp;<code>extends</code>实现继承。</p><h4 id="13-2-interface与抽象类的区别"><a href="#13-2-interface与抽象类的区别" class="headerlink" title="13.2 interface与抽象类的区别"></a>13.2 interface与抽象类的区别</h4><ul><li><strong>相同点:</strong> 都用于定义一个类的格式 </li><li><strong>不同点:</strong></li></ul><p>​    1. 接口:只能描述结构,不能有任何实现代码，一个类可以有多个接口。</p><p>​    2. 抽象类:既可以包含抽象方法，也可以包含具体方法，一个类只能继承一个抽象类。</p><h2 id="八-泛型"><a href="#八-泛型" class="headerlink" title="八.泛型"></a>八.泛型</h2><p><strong>定义：</strong> 泛型运行我们在定义函数，类或接口时，使用类型参数来表示未指定的类型，这些参数在具体使用时，才被指定具体的类型，泛型能让同一段代码适用于多种类型，同时仍然保持类型的安全性。</p><h3 id="泛型函数"><a href="#泛型函数" class="headerlink" title="泛型函数"></a>泛型函数</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> logData&lt;T&gt;(<span class="hljs-attr">data</span>:T)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>&#125;<br>logData&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">100</span>)<br>logData&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&#x27;Hi&#x27;</span>)<br></code></pre></td></tr></table></figure><p>注:泛型可以有多个</p><h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PersonInterface</span>&lt;T&gt;&#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-built_in">string</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-built_in">number</span>,<br>    <span class="hljs-attr">extraInfo</span>:T<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">p</span>:<span class="hljs-title class_">PersonInterface</span>&lt;<span class="hljs-built_in">string</span>&gt;<br></code></pre></td></tr></table></figure><p>注:泛型接口本身也可以嵌套</p><h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&lt;T&gt; &#123;<br><span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span><br><span class="hljs-params"><span class="hljs-keyword">public</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,</span><br><span class="hljs-params"><span class="hljs-keyword">public</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>,</span><br><span class="hljs-params"><span class="hljs-keyword">public</span> <span class="hljs-attr">extraInfo</span>: T</span><br><span class="hljs-params"></span>) &#123; &#125;<br><span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`我叫<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>今年<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.age&#125;</span>岁了`</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">extraInfo</span>)<br>&#125;<br>&#125;<br><span class="hljs-comment">// 测试代码1</span><br><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-number">30</span>, <span class="hljs-number">250</span>);<br><span class="hljs-comment">// 测试代码2</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">JobInfo</span> = &#123;<br><span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;<br><span class="hljs-attr">company</span>: <span class="hljs-built_in">string</span>;<br>&#125;<br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>&lt;<span class="hljs-title class_">JobInfo</span>&gt;(<span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-number">30</span>, &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;研发总监&#x27;</span>, <span class="hljs-attr">company</span>: <span class="hljs-string">&#x27;发发发</span><br><span class="hljs-string">科技公司&#x27;</span> &#125;);<br></code></pre></td></tr></table></figure><h3 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">LengthInterface</span> &#123;<br><span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-comment">// 约束规则是：传入的类型T必须具有 length 属性</span><br><span class="hljs-keyword">function</span> logPerson&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">LengthInterface</span>&gt;(<span class="hljs-attr">data</span>: T): <span class="hljs-built_in">void</span> &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data.<span class="hljs-property">length</span>)<br>&#125;<br>logPerson&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&#x27;hello&#x27;</span>)<br><span class="hljs-comment">// 报错：因为number不具备length属性</span><br><span class="hljs-comment">// logPerson&lt;number&gt;(100) </span><br></code></pre></td></tr></table></figure><h2 id="九-类型声明文件"><a href="#九-类型声明文件" class="headerlink" title="九.类型声明文件"></a>九.类型声明文件</h2><p>类型声明文件是 TypeScript 中的一种特殊文件，通常以﻿.d.ts﻿ 作为扩展名。它的主要作用<br>是为现有的 JavaScript 代码提供类型信息，使得 TypeScript 能够在使用这些 JavaScript 库<br>或模块时进行类型检查和提示。</p><p>在浏览器引入脚本时,注明类型<code>type:module</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// demo.js</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) &#123;<br><span class="hljs-keyword">return</span> a + b;<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mul</span>(<span class="hljs-params">a, b</span>) &#123;<br><span class="hljs-keyword">return</span> a * b;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TypeScript</tag>
      
      <tag>前端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript 编码原则</title>
    <link href="/posts/bea3b2c9.html"/>
    <url>/posts/bea3b2c9.html</url>
    
    <content type="html"><![CDATA[<h1 id="JavaScript-编码原则"><a href="#JavaScript-编码原则" class="headerlink" title="JavaScript 编码原则"></a>JavaScript 编码原则</h1><h3 id="写好JS的一些原则"><a href="#写好JS的一些原则" class="headerlink" title="写好JS的一些原则"></a>写好JS的一些原则</h3><ol><li>各司其职</li></ol><p>​让HTML，CSS，Javascript职能分离</p><ol start="2"><li>组件封装</li></ol><p>​好的UI组件具备正确性、拓展性、复用性。</p><ol start="3"><li>过程抽象</li></ol><p>​应用函数式编程思维</p><h1 id="1-各司其责"><a href="#1-各司其责" class="headerlink" title="1.各司其责"></a>1.各司其责</h1><p><img src="C:\Users\hainoir\AppData\Roaming\Typora\typora-user-images\image-20241113154710962.png" alt="image-20241113154710962"></p><ul><li>HTML &#x2F; CSS &#x2F; JS 各司其责</li><li>应当避免不必要的由JS直接操作样式</li><li>可以用class来表示状态</li><li>纯展示累交互寻求零JS方案</li></ul><h1 id="2-组件封装"><a href="#2-组件封装" class="headerlink" title="2.组件封装"></a>2.组件封装</h1><h6 id="组件：指Web页面上抽出来一个个包含模板（HTML）、功能（JS）和样式（CSS）的单元，好的组件具备封装性、正确性、扩展性、复用性。"><a href="#组件：指Web页面上抽出来一个个包含模板（HTML）、功能（JS）和样式（CSS）的单元，好的组件具备封装性、正确性、扩展性、复用性。" class="headerlink" title="组件：指Web页面上抽出来一个个包含模板（HTML）、功能（JS）和样式（CSS）的单元，好的组件具备封装性、正确性、扩展性、复用性。"></a>组件：指Web页面上抽出来一个个包含模板（HTML）、功能（JS）和样式（CSS）的单元，好的组件具备封装性、正确性、扩展性、复用性。</h6><h4 id="1-总结："><a href="#1-总结：" class="headerlink" title="1.总结："></a>1.总结：</h4><h4 id="基本方法"><a href="#基本方法" class="headerlink" title="基本方法"></a>基本方法</h4><ul><li><h4 id="结构设计"><a href="#结构设计" class="headerlink" title="结构设计"></a>结构设计</h4></li><li><h4 id="展现效果"><a href="#展现效果" class="headerlink" title="展现效果"></a>展现效果</h4></li><li><h4 id="行为设计"><a href="#行为设计" class="headerlink" title="行为设计"></a>行为设计</h4><ul><li>API   （功能）</li><li>Event  （控制流）</li></ul></li></ul><h4 id="2-重构"><a href="#2-重构" class="headerlink" title="2.重构"></a>2.重构</h4><p>1.插件化</p><h5 id="解耦"><a href="#解耦" class="headerlink" title="解耦"></a>解耦</h5><ul><li>将控制元素抽取成插件</li><li>插件与组件之间通过<em><strong>依赖注入</strong></em>的方式建立联系</li></ul><p>2.模板化</p><ul><li>将HTML模板化，更易于扩展 （解耦）</li></ul><p>3.抽象</p><ul><li>将通用的组件模型抽象出来</li></ul><h4 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h4><ul><li>组件设计的原则：封装性、正确性、扩展性、复用性。</li><li>实现组件的步骤：结构设计、展现效果、行为设计</li><li>三次重构<ul><li>插件化</li><li>模板化</li><li>抽象化（组件框架）</li></ul></li></ul><h1 id="3-过程抽象"><a href="#3-过程抽象" class="headerlink" title="3.过程抽象"></a>3.过程抽象</h1><ul><li>用来处理局部细节控制的一些方法</li><li>函数式编程思想的基础应用</li></ul><p>eg：操作次数限制</p><ul><li>一些异步交互</li><li>一次性的HTTP请求</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Once</span> <span class="hljs-comment">//为了能够让“只执行一次”的需求覆盖不同的事件处理，我们可以将这个需求剥离出来。这个过程我们称为过程抽象。</span><br><br>funtion <span class="hljs-title function_">once</span>(<span class="hljs-params">fn</span>)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>)&#123;<br>        <span class="hljs-keyword">if</span>(fn)&#123;<br><span class="hljs-keyword">const</span> ret = fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);<br>            fn = <span class="hljs-literal">null</span>;<br>            <span class="hljs-keyword">return</span> ret;<br>        &#125;<br>    &#125;;<br>&#125;<br>button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-title function_">once</span>(<span class="hljs-function">(<span class="hljs-params">evt</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> target =evt.<span class="hljs-property">target</span>;<br>    target.<span class="hljs-property">parentNode</span>.<span class="hljs-property">className</span> =<span class="hljs-string">&#x27;completed&#x27;</span>;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>        list.<span class="hljs-title function_">removeChild</span>(target.<span class="hljs-property">parentNode</span>);<br>    &#125;，<span class="hljs-number">2000</span>);<br>&#125;));<br></code></pre></td></tr></table></figure><h3 id="高级函数"><a href="#高级函数" class="headerlink" title="高级函数"></a>高级函数</h3><h5 id="1-特点："><a href="#1-特点：" class="headerlink" title="1.特点："></a>1.特点：</h5><ul><li>以函数作为参数</li><li>以函数作为返回值</li><li>常用于作为函数修饰器</li></ul><h5 id="2-为什么使用高阶函数？"><a href="#2-为什么使用高阶函数？" class="headerlink" title="2.为什么使用高阶函数？"></a>2.为什么使用高阶函数？</h5><p>​减少使用非纯函数的次数，增强可维护性</p><h5 id="3-常用的高级函数"><a href="#3-常用的高级函数" class="headerlink" title="3.常用的高级函数"></a>3.常用的高级函数</h5><ul><li>Once</li><li>Throttle</li><li>debounce</li><li>Consumer</li><li>Iterative</li></ul><h4 id="命令式与声明式"><a href="#命令式与声明式" class="headerlink" title="命令式与声明式"></a>命令式与声明式</h4><p>eg：命令式：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><br><span class="hljs-keyword">let</span> mapl = [];<br><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i &lt; list.<span class="hljs-property">length</span>; i++)&#123;<br>    mapl.<span class="hljs-title function_">push</span>(list[i] * <span class="hljs-number">2</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>eg:声明式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">double</span> = x =&gt; x * <span class="hljs-number">2</span>;<br><br>list.<span class="hljs-title function_">map</span>(double);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>前端</tag>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>React</title>
    <link href="/posts/d8a440d1.html"/>
    <url>/posts/d8a440d1.html</url>
    
    <content type="html"><![CDATA[<h1 id="React"><a href="#React" class="headerlink" title="React"></a>React</h1><h4 id="一-Effect"><a href="#一-Effect" class="headerlink" title="一.Effect"></a>一.Effect</h4><h5 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h5><p>在 React 中，Effect 指的是在组件渲染过程之外发生的一切事情。也就是说，任何 React 不直接处理的与渲染 UI 相关的操作。</p><blockquote><p>常见的例子包括获取数据、更新浏览器标签页的标题、读取或写入浏览器的本地存储、获取用户的位置等。这些操作与外部世界进行交互，被称为副作用。</p></blockquote><h5 id="2-使用方法"><a href="#2-使用方法" class="headerlink" title="2.使用方法"></a>2.使用方法</h5><p>首先需要导入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs react">import &#123; useEffect &#125; from &quot;react&quot;;<br></code></pre></td></tr></table></figure><p>然后像函数一样使用它</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs react">useEffect(()=&gt;&#123;<br>// Your side effect logic (usually a function) here<br>&#125;,[dependencies]);<br></code></pre></td></tr></table></figure><p><code>useEffect</code>内的逻辑&#x2F;函数，在组件渲染后运行，而可选的<code>dependencies</code>参数控制这个<code>useEffect</code>何时运行。</p><ol><li><code>dependencies</code></li></ol><p>注意<code>dependencies</code>可以是一个包含”响应式值”（state, props, functions, variables, and so on）的数组，也可以是一个空数组，或者完全省略。下面是这些选项如何控制<code>useEffect</code>的行为：</p><ul><li>如果 <code>dependencies </code>是一个包含一个或多个响应式值的数组，那么该<code>effect</code>将在这些值发生变化时运行。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs react">useEffect(() =&gt; &#123;<br>  document.title = `The current count is $&#123;count&#125;`;<br>  console.log(&#x27;component renders&#x27;);<br>&#125;, [count]);<br></code></pre></td></tr></table></figure><ul><li>如果<code>dependencies</code>是一个空数组，<code>useEffect</code>仅在组件首次渲染时运行一次。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs react">useEffect(() =&gt; &#123;<br>  console.log(&#x27;Component renders&#x27;);<br>&#125;, []);<br></code></pre></td></tr></table></figure><ul><li>如果你省略<code>dependencies</code>，<code>useEffect</code>会在每次组件渲染或更新时运行。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs react">import &#123; useState, useEffect &#125; from &quot;react&quot;;<br><br>const Counter = () =&gt; &#123;<br>  const [count, setCount] = useState(0);<br><br>  useEffect(() =&gt; &#123;<br>    console.log(&quot;Component renders&quot;);<br>  &#125;);<br><br>  return (<br>    &lt;div<br>      style=&#123;&#123;<br>        display: &quot;flex&quot;,<br>        alignItems: &quot;center&quot;,<br>        flexDirection: &quot;column&quot;,<br>      &#125;&#125;<br>    &gt;<br>      &lt;h2&gt;&#123;count&#125;&lt;/h2&gt;<br>      &lt;div&gt;<br>        &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;Increase&lt;/button&gt;<br>        &lt;button onClick=&#123;() =&gt; setCount(count - 1)&#125;&gt;Decrease&lt;/button&gt;<br>      &lt;/div&gt;<br>    &lt;/div&gt;<br>  );<br>&#125;;<br><br>export default Counter;<br></code></pre></td></tr></table></figure><h4 id="二-创建自定义Hook"><a href="#二-创建自定义Hook" class="headerlink" title="二.创建自定义Hook"></a>二.创建自定义Hook</h4><ol><li><h5 id="创建的理由"><a href="#创建的理由" class="headerlink" title="创建的理由"></a>创建的理由</h5></li></ol><p>React 提供了许多内置的钩子，使你能够在项目中实现不同的功能。这些包括 <code>useState</code> ， <code>useEffect</code> ， <code>useContext</code> ，等等。</p><p>自定义钩子并不像它们看起来那么复杂。它们只是可重用的函数，让你能够在多个组件之间共享逻辑。</p><ul><li>需要添加一个内置钩子无法实现的功能</li><li>可重用性</li></ul><ol start="2"><li><h5 id="创建的好处"><a href="#创建的好处" class="headerlink" title="创建的好处"></a>创建的好处</h5></li></ol><ul><li>将任何使用它们的组件中的逻辑提取出来</li></ul><blockquote><p>like data fetching, state management, toggling, side effects like checking for the online or offline status of users, and so on.</p></blockquote><ul><li>在任何组件中导入这个钩子，这样你就可以专注于这些组件中的渲染和展示。</li></ul><blockquote><p>这意味着更少的重复和复制，当你需要进行任何更新时，修改的地点也会更少。</p></blockquote><ol start="3"><li><h5 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h5></li></ol><p>接下来，创建一个 <code>useDebounce</code> 函数，它接受 <code>value</code> 和 <code>delay</code> 作为参数。 <code>value</code> 是你想要等待的资源， <code>delay</code> 是你希望等待的时间段。由于你希望等待一段时间， <code>setTimeout</code> 和 <code>clearTimeout</code> 函数会很有用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs react">function useDebounce(value, delay) &#123;<br>  const [debouncedValue, setDebouncedValue] = useState(value);<br><br>  useEffect(() =&gt; &#123;<br>    const handler = setTimeout(() =&gt; &#123;<br>      setDebouncedValue(value);<br>    &#125;, delay);<br><br>    return () =&gt; &#123;<br>      clearTimeout(handler);<br>    &#125;;<br>  &#125;, [value, delay]);<br><br>  return debouncedValue;<br>&#125;<br><br>export &#123; useDebounce &#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>前端</tag>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>3.栈，优先队列，map，set，bitset</title>
    <link href="/posts/aa3f72d6.html"/>
    <url>/posts/aa3f72d6.html</url>
    
    <content type="html"><![CDATA[<h1 id="3-栈，优先队列，map，set，bitset"><a href="#3-栈，优先队列，map，set，bitset" class="headerlink" title="3.栈，优先队列，map，set，bitset"></a>3.栈，优先队列，map，set，bitset</h1><ol><li>栈</li></ol><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss">stack&lt;int&gt; stk; <span class="hljs-comment">// 栈的定义，括号内为数据类型</span><br><br>stk<span class="hljs-selector-class">.empty</span>()  <span class="hljs-comment">//  当栈内为空，返回true</span><br>stk<span class="hljs-selector-class">.top</span>()  <span class="hljs-comment">// 返回栈顶元素</span><br>stk<span class="hljs-selector-class">.push</span>()  <span class="hljs-comment">// 将括号内的元素压入栈中</span><br>stk<span class="hljs-selector-class">.pop</span>()  <span class="hljs-comment">//  将栈顶元素弹出</span><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//www.starrycoding.com/problem/38</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span><span class="hljs-number">+9</span>;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br>ll a[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-type">int</span> n;cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i) cin &gt;&gt; a[i];<br><br>stack&lt;<span class="hljs-type">int</span>&gt; stk;    <br><span class="hljs-type">int</span> pos = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br><span class="hljs-keyword">while</span>(pos &lt;= n &amp;&amp; ( stk.<span class="hljs-built_in">empty</span>() || stk.<span class="hljs-built_in">top</span>() != i ) ) stk.<span class="hljs-built_in">push</span>(a[pos++]);<br><br><span class="hljs-keyword">if</span>(stk.<span class="hljs-built_in">top</span>() == i)stk.<span class="hljs-built_in">pop</span>();<br><span class="hljs-keyword">else</span><br>&#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;No&quot;</span> &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br>cout &lt;&lt; <span class="hljs-string">&quot;Yes&quot;</span> &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.优先队列</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++">priority_queue&lt;ll&gt; pq  <span class="hljs-comment">//优先队列的定义，括号内为参数类型,默认是大根堆</span><br>pq.<span class="hljs-built_in">top</span>()  <span class="hljs-comment">//返回优先队列的顶部元素</span><br>pq.<span class="hljs-built_in">pop</span>()  <span class="hljs-comment">//弹出优先队列的顶部元素</span><br>pq.<span class="hljs-built_in">push</span>()  <span class="hljs-comment">//将括号内的元素压入优先队列</span><br>    <br>priority_queue&lt;ll,vector&lt;ll&gt;,greater&lt;ll&gt; &gt; pq  <span class="hljs-comment">//换为小根堆，从大到小</span><br><br>另一种切换为小根堆的方法：<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">cmp</span>&#123;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">const</span> ll &amp;u, <span class="hljs-type">const</span> ll &amp; v)</span><span class="hljs-type">const</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> u &gt; v;<br>    &#125;<br>&#125;<br>priority_queue&lt;ll,vector&lt;ll&gt;,greater&lt;ll&gt; &gt; pq<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//www.starrycoding.com/problem/58</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span><span class="hljs-number">+9</span>;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br>ll a[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-type">int</span> q;cin &gt;&gt; q;<br>priority_queue&lt;ll&gt; pq;<br>ll sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(q--)<br>&#123;<br><span class="hljs-type">int</span> n;cin &gt;&gt; n;<br><span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>) <br>&#123;<br>ll x;cin &gt;&gt; x;<br>pq.<span class="hljs-built_in">push</span>(x);<br>sum+=x;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!pq.<span class="hljs-built_in">empty</span>())<br>&#123;<br>sum -= pq.<span class="hljs-built_in">top</span>();<br>pq.<span class="hljs-built_in">pop</span>();<br>&#125;<br>&#125;<br>cout &lt;&lt; sum &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>3.map</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><span class="hljs-type">int</span> T;cin &gt;&gt; T;<br><br>map&lt;string, <span class="hljs-type">int</span>&gt; mp;<br>vector&lt;string&gt; v;<br><span class="hljs-keyword">while</span>(T--)<br>&#123;<br>map&lt;string, <span class="hljs-type">int</span>&gt; mp;<br>vector&lt;string&gt; v;<br><span class="hljs-type">int</span> n;cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br>string s;cin &gt;&gt; s;<br><span class="hljs-keyword">if</span>(mp.<span class="hljs-built_in">count</span>(s)) mp[s]++;<br><span class="hljs-keyword">else</span>&#123;<br>v.<span class="hljs-built_in">push_back</span>(s);<br>mp[s] = <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;i : v) cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; mp[i] &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>4.set</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>set&lt;ll&gt; st;<br>ll n;cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br>ll x;cin &gt;&gt; x;<br>st.<span class="hljs-built_in">insert</span>(x);<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;i : st) cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>5.bitset</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">5e3</span><span class="hljs-number">+9</span>, M = <span class="hljs-number">5e5</span><span class="hljs-number">+9</span>;<br>ll a[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>ll n;cin &gt;&gt; n;<br>bitset&lt;M&gt; bt;<br>bt[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i= <span class="hljs-number">1</span>;i &lt;= n;++i)cin &gt;&gt; a[i];<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br>bt |= (bt &lt;&lt; a[i]);<br>&#125;<br>cout &lt;&lt; bt.<span class="hljs-built_in">count</span>() &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2.位运算双指针排序二分</title>
    <link href="/posts/ca70cb17.html"/>
    <url>/posts/ca70cb17.html</url>
    
    <content type="html"><![CDATA[<h1 id="2-位运算双指针排序二分"><a href="#2-位运算双指针排序二分" class="headerlink" title="2.位运算双指针排序二分"></a>2.位运算双指针排序二分</h1><h3 id="1-位运算"><a href="#1-位运算" class="headerlink" title="1.位运算"></a>1.位运算</h3><p>​与：&amp;</p><p>​或：|</p><p>​非：！</p><p>​异或：^    <!--无分配律，有交换律和结合律-->（任何数，与0进行异或都等于0）eg:【a + b &#x3D; 2（a &amp; b）+ (a ^ b)】</p><p>​移位：&lt;&lt; (左移)，&gt;&gt;(右移)   <!--高位溢出--></p><p>​取反：~</p><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gml">bitset&lt;n&gt;(<span class="hljs-variable language_">x</span>)   <span class="hljs-comment">//将x转换为n进制</span><br><span class="hljs-variable language_">x</span> &lt;&lt;= <span class="hljs-number">1</span>    <span class="hljs-comment">//将x左移一位</span><br></code></pre></td></tr></table></figure><h3 id="2-排序"><a href="#2-排序" class="headerlink" title="2.排序"></a>2.排序</h3><p>数组去重排序模板：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++">vector&lt;<span class="hljs-type">int</span>&gt; a;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)<br>&#123;<br><span class="hljs-type">int</span> num;cin &gt;&gt; num;<br>a.<span class="hljs-built_in">push_back</span>(num); <span class="hljs-comment">//push_back,是vector数组的方法，且vector会自动更新长度</span><br>&#125;<br><span class="hljs-built_in">sort</span>(a.<span class="hljs-built_in">begin</span>(),a.<span class="hljs-built_in">end</span>()); <span class="hljs-comment">//从小到大排序</span><br>a.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">unique</span>(a.<span class="hljs-built_in">begin</span>(),a.<span class="hljs-built_in">end</span>()),a.<span class="hljs-built_in">end</span>()); <span class="hljs-comment">//unique作用：(将a里的重复元素放到末尾并返回最后有效元素的下一位)</span><br><span class="hljs-comment">//erase作用： (将传入两个参数所含的部分清除掉)</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;i : a) cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;    <span class="hljs-comment">//以i为索引遍历每一个数组a的元素，并将其输出</span><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">reverse</span>(a + <span class="hljs-number">1</span>,a + <span class="hljs-number">1</span> + n); <span class="hljs-comment">//翻转a数组中的元素</span><br></code></pre></td></tr></table></figure><p>遇见一个元素中有多个数据，且需要排列不同元素时，就需要使用cmp或struct；</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">book</span>&#123;                                        <span class="hljs-comment">//结构体</span><br><span class="hljs-type">int</span> a,b,c;<br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-type">const</span> book &amp;u)<span class="hljs-type">const</span>&#123;<span class="hljs-comment">//重载运算符</span><br><span class="hljs-keyword">if</span>(u.a == a &amp;&amp; u.b == b) <span class="hljs-keyword">return</span> u.c &lt; c;<br><span class="hljs-keyword">if</span>(u.a == a) <span class="hljs-keyword">return</span> u.b &lt; b;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> u.a &lt; a;<br>&#125;<br>&#125;p[N];<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-type">const</span> book &amp;u,<span class="hljs-type">const</span> book &amp;v)</span></span>&#123;<span class="hljs-comment">//cmp函数，用在sort(a.begin(),a.end(),cmp)</span><br><span class="hljs-keyword">if</span>(u.a == v.a &amp;&amp; u.b == v.b) <span class="hljs-keyword">return</span> u.c &gt; v.c;<br><span class="hljs-keyword">if</span>(u.a == v.a) <span class="hljs-keyword">return</span> u.b &gt; v.b;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> u.a &gt; v.a;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>   ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>   ll n;cin &gt;&gt; n;<br>   vector&lt;<span class="hljs-type">int</span>&gt;a;<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)<br>   &#123;<br>   <span class="hljs-type">int</span> num;cin &gt;&gt; num;<br>   a.<span class="hljs-built_in">push_back</span>(num);<br>   &#125;<br>   <span class="hljs-built_in">sort</span>(a.<span class="hljs-built_in">begin</span>(),a.<span class="hljs-built_in">end</span>());<br>   a.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">unique</span>(a.<span class="hljs-built_in">begin</span>(),a.<span class="hljs-built_in">end</span>()),a.<span class="hljs-built_in">end</span>());<br>   <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;i : a)cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>; <br>   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-双指针"><a href="#3-双指针" class="headerlink" title="3.双指针"></a>3.双指针</h3><p>​1.只往一个方向走</p><p>​2.一快一慢</p><p>​3.在区间内</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//https://www.starrycoding.com/problem/36</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span><span class="hljs-number">+10</span>;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br>ll a[N],c[N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ll n;cin &gt;&gt; n;<br>ll res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)cin &gt;&gt; a[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)c[a[i]] = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>,j = <span class="hljs-number">0</span>;i &lt;= n;i++)<br>&#123;<br><span class="hljs-keyword">while</span>(j &lt; n &amp;&amp; c[a[j<span class="hljs-number">+1</span>]] == <span class="hljs-number">0</span>) c[a[++j]]++;<br>res = <span class="hljs-built_in">max</span>(res , j - i + <span class="hljs-number">1ll</span>);<br>c[a[i]]--;<br>&#125;<br>cout &lt;&lt; res &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><span class="hljs-type">int</span> _;cin &gt;&gt; _;<br><span class="hljs-keyword">while</span>(_--) <span class="hljs-built_in">solve</span>();<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-二分"><a href="#4-二分" class="headerlink" title="4.二分"></a>4.二分</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">while</span>(l + <span class="hljs-number">1</span> != r)<br>&#123;<br>mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(a[mid] &lt; x) l = mid;<br><span class="hljs-keyword">else</span> r = mid;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//https://www.starrycoding.com/problem/57</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span><span class="hljs-number">+10</span>;<br>ll a[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>ll n, q;cin &gt;&gt; n &gt;&gt; q;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)cin &gt;&gt; a[i];<br><span class="hljs-keyword">while</span>(q--)<br>&#123;<br>ll l=<span class="hljs-number">0</span>,r=n,mid,x;<br>cin &gt;&gt; x;<br><span class="hljs-keyword">while</span>(l + <span class="hljs-number">1</span> != r)<br>&#123;<br>mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(a[mid] &lt; x) l = mid;<br><span class="hljs-keyword">else</span> r = mid;<br>&#125;<br><span class="hljs-keyword">if</span>(a[r] == x) cout &lt;&lt; r &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>; <br><span class="hljs-keyword">else</span> cout &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>4.单调栈，单调队列</title>
    <link href="/posts/f569f5a2.html"/>
    <url>/posts/f569f5a2.html</url>
    
    <content type="html"><![CDATA[<h1 id="4-单调栈，单调队列"><a href="#4-单调栈，单调队列" class="headerlink" title="4.单调栈，单调队列"></a>4.单调栈，单调队列</h1><p>1.单调栈</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++">https:<span class="hljs-comment">//www.starrycoding.com/problem/60</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span><span class="hljs-number">+9</span>;<br>ll a[N],l[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>ll n;cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i) cin &gt;&gt; a[i];<br><br>stack&lt;<span class="hljs-type">int</span>&gt; stk;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br><span class="hljs-keyword">while</span>(stk.<span class="hljs-built_in">size</span>() &amp;&amp; stk.<span class="hljs-built_in">top</span>() &gt;= a[i]) stk.<span class="hljs-built_in">pop</span>();<br><span class="hljs-keyword">if</span>(stk.<span class="hljs-built_in">empty</span>()) l[i] = <span class="hljs-number">-1</span>;  <br><span class="hljs-keyword">else</span> l[i] = stk.<span class="hljs-built_in">top</span>();<br>stk.<span class="hljs-built_in">push</span>(a[i]);<br>&#125;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i) cout &lt;&lt; l[i] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.单调队列</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//https://www.starrycoding.com/problem/61</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span> ;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span><span class="hljs-number">+9</span>; <br>ll a[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>ll n,k;cin &gt;&gt; n &gt;&gt; k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i) cin &gt;&gt; a[i];<br><br>deque&lt;<span class="hljs-type">int</span>&gt; dq;<br><span class="hljs-comment">//求最大</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br><span class="hljs-comment">//队头合法性</span><br><span class="hljs-keyword">while</span>(dq.<span class="hljs-built_in">size</span>() &amp;&amp; dq.<span class="hljs-built_in">front</span>() &lt;= i-k)dq.<span class="hljs-built_in">pop_front</span>();<br><span class="hljs-comment">//队尾优越性</span><br><span class="hljs-keyword">while</span>(dq.<span class="hljs-built_in">size</span>() &amp;&amp; a[dq.<span class="hljs-built_in">back</span>()] &lt;= a[i]) dq.<span class="hljs-built_in">pop_back</span>();<br><br>dq.<span class="hljs-built_in">push_back</span>(i);<br><br><span class="hljs-keyword">if</span>(i &gt;= k) cout &lt;&lt; a[dq.<span class="hljs-built_in">front</span>()] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>&#125;<br>cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>dq = <span class="hljs-built_in">deque</span>&lt;<span class="hljs-type">int</span>&gt;();<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br><span class="hljs-comment">//队头合法性</span><br><span class="hljs-keyword">while</span>(dq.<span class="hljs-built_in">size</span>() &amp;&amp; dq.<span class="hljs-built_in">front</span>() &lt;= i-k)dq.<span class="hljs-built_in">pop_front</span>();<br><span class="hljs-comment">//队尾优越性 </span><br><span class="hljs-keyword">while</span>(dq.<span class="hljs-built_in">size</span>() &amp;&amp; a[dq.<span class="hljs-built_in">back</span>()]&gt;= a[i]) dq.<span class="hljs-built_in">pop_back</span>();<br><br>dq.<span class="hljs-built_in">push_back</span>(i);<br><br><span class="hljs-keyword">if</span>(i &gt;= k) cout &lt;&lt; a[dq.<span class="hljs-built_in">front</span>()] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>6.图的存储方式，DFS，BFS</title>
    <link href="/posts/a72304e1.html"/>
    <url>/posts/a72304e1.html</url>
    
    <content type="html"><![CDATA[<h2 id="6-图的存储方式，DFS，BFS"><a href="#6-图的存储方式，DFS，BFS" class="headerlink" title="6.图的存储方式，DFS，BFS"></a>6.图的存储方式，DFS，BFS</h2><h5 id="1-领接矩阵"><a href="#1-领接矩阵" class="headerlink" title="1.领接矩阵"></a>1.领接矩阵</h5><h5 id="2-领接表"><a href="#2-领接表" class="headerlink" title="2.领接表"></a>2.领接表</h5><ol><li>前向星</li><li>vector（支持排序）</li></ol><p>​单向边，无向边（双向边） </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c++">https:<span class="hljs-comment">//www.starrycoding.com/problem/42</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">60</span>;<br><span class="hljs-type">int</span> fa[N];<br>vector&lt;<span class="hljs-type">int</span>&gt; g[N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;y : g[x]) <span class="hljs-built_in">dfs</span>(y);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-type">int</span> st)</span></span><br><span class="hljs-function"></span>&#123;<br>queue&lt;<span class="hljs-type">int</span>&gt; q;<br>q.<span class="hljs-built_in">push</span>(st);<br><span class="hljs-keyword">while</span>(q.<span class="hljs-built_in">size</span>())<br>&#123;<br><span class="hljs-type">int</span> x = q.<span class="hljs-built_in">front</span>();q.<span class="hljs-built_in">pop</span>();<br>cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;y : g[x])q.<span class="hljs-built_in">push</span>(y);<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n;cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>;i &lt;= n;++i)cin &gt;&gt; fa[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>;i &lt;= n;++i)g[fa[i]].<span class="hljs-built_in">push_back</span>(i);<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<span class="hljs-built_in">sort</span>(g[i].<span class="hljs-built_in">begin</span>(),g[i].<span class="hljs-built_in">end</span>());<br><br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br>cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br><span class="hljs-built_in">bfs</span>(<span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><h5 id="3-DFS（深度优先）"><a href="#3-DFS（深度优先）" class="headerlink" title="3.DFS（深度优先）"></a>3.DFS（深度优先）</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span><span class="hljs-number">+9</span>;<br><br>vector&lt;<span class="hljs-type">int</span>&gt; g[N];<br><br>bitset&lt;N&gt; vis;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>vis[x] = <span class="hljs-literal">true</span>; <br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;y : g[x])<br>&#123;<br><span class="hljs-keyword">if</span>(vis[y]) <span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">dfs</span>(y);<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><span class="hljs-type">int</span> n,m;cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-type">int</span> u,v;<br><span class="hljs-keyword">while</span>(m--)<br>&#123;<br>cin &gt;&gt; u &gt;&gt; v;<br><span class="hljs-keyword">if</span>(u != v) g[u].<span class="hljs-built_in">push_back</span>(v);<br>&#125;<br><br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<span class="hljs-keyword">if</span>(vis[i]) cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++">全排列问题<br><span class="hljs-comment">//https://www.starrycoding.com/problem/30</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits\stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N  = <span class="hljs-number">15</span>;<br><span class="hljs-type">int</span> n, a[N];<br>bitset&lt;N&gt; vis;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> dep)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span>(dep == n<span class="hljs-number">+1</span>)<br>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++) cout &lt;&lt; a[i] &lt;&lt; <span class="hljs-string">&quot; \n&quot;</span>[i==n];<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br><span class="hljs-keyword">if</span>(vis[i])<span class="hljs-keyword">continue</span>;<br><br>vis[i]=<span class="hljs-literal">true</span>;<br>a[dep] = i;<br><span class="hljs-built_in">dfs</span>(dep<span class="hljs-number">+1</span>);<br><br>a[dep] = <span class="hljs-number">0</span>;<br>vis[i] = <span class="hljs-literal">false</span>;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>cin &gt;&gt; n;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>5.树状数组和离散化</title>
    <link href="/posts/62da137b.html"/>
    <url>/posts/62da137b.html</url>
    
    <content type="html"><![CDATA[<h1 id="5-树状数组和离散化"><a href="#5-树状数组和离散化" class="headerlink" title="5.树状数组和离散化"></a>5.树状数组和离散化</h1><h5 id="1-离散化"><a href="#1-离散化" class="headerlink" title="1.离散化"></a>1.离散化</h5><p>​ 离线操作（存下操作，后执行）</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//找出所有操作点，存下</span><br><span class="hljs-comment">//将相关点排序去重</span><br><span class="hljs-comment">//将大点转化为小点</span><br><span class="hljs-comment">//操作 全部转化到小点上 </span><br><br>https:<span class="hljs-comment">//www.starrycoding.com/problem/63</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">3e5</span><span class="hljs-number">+9</span>;<br><br>vector&lt;<span class="hljs-type">int</span>&gt; X;<span class="hljs-comment">//离散化得到小点（相关的点）</span><br>ll a[N];<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Q</span><span class="hljs-comment">//存下操作和询问</span><br>&#123;<br>ll a,b;<br>&#125;add[N],que[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getidx</span><span class="hljs-params">(ll x)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//lower_bound 找出数组中第一个 &gt;= x的元素的迭代器</span><br><span class="hljs-comment">//返回值的范围是[1,X.size()]</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">lower_bound</span>(X.<span class="hljs-built_in">begin</span>(),X.<span class="hljs-built_in">end</span>(),x) - X.<span class="hljs-built_in">begin</span>() + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><span class="hljs-type">int</span> n, q;cin &gt;&gt; n &gt;&gt; q;<br><br><span class="hljs-comment">//n次操作发，在x点 加w</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br>ll x,w;cin &gt;&gt; x &gt;&gt; w;<br>X.<span class="hljs-built_in">push_back</span>(x);<span class="hljs-comment">//存下相关点</span><br>add[i] = &#123;x,w&#125;;<span class="hljs-comment">//和上面分开存相关点，并且存下w，为之后离线操作准备</span><br>&#125;<br><br><span class="hljs-comment">//q次询问，[l,r]内所有点的和</span><br><span class="hljs-comment">//这里先存下询问区间，离线操作</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= q;++i)<br>&#123;<br>ll l,r;cin &gt;&gt; l &gt;&gt; r;<br>X.<span class="hljs-built_in">push_back</span>(l);<br>X.<span class="hljs-built_in">push_back</span>(r);<br>que[i] = &#123;l,r&#125;;<br>&#125;<br><br><span class="hljs-built_in">sort</span>(X.<span class="hljs-built_in">begin</span>(),X.<span class="hljs-built_in">end</span>());<br>X.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">unique</span>(X.<span class="hljs-built_in">begin</span>(),X.<span class="hljs-built_in">end</span>()) ,X.<span class="hljs-built_in">end</span>());<span class="hljs-comment">//得到仅有相关点</span><br><br><span class="hljs-comment">//在一条仅有相关点的数轴，给其中的相关点加上对应的值</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>&#123;<br><span class="hljs-type">int</span> x = <span class="hljs-built_in">getidx</span>(add[i].a);<br>ll w = add[i].b;<br>a[x] += w;<br>&#125;<br><br><span class="hljs-comment">//相关点数值的前缀和</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= X.<span class="hljs-built_in">size</span>();++i) a[i] += a[i<span class="hljs-number">-1</span>];<br><br><span class="hljs-comment">//离线操作，处理询问区间</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= q;++i)<br>&#123;<br><span class="hljs-type">int</span> l = <span class="hljs-built_in">getidx</span>(que[i].a);<br><span class="hljs-type">int</span> r = <span class="hljs-built_in">getidx</span>(que[i].b);<br>cout &lt;&lt; a[r] - a[l - <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>2.树状数组（不能用0当下标）</p><p>   维护区间和</p><ul><li>单点修改O(1)</li><li>区间修改O(nlogn)</li><li>区间查询O(nlogn)</li></ul><p>Ti的管辖区间：[i - lowbit(i) + 1 ,i]，长度：lowbit(i)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs c++">https:<span class="hljs-comment">//www.starrycoding.com/problem/40</span><br><br><span class="hljs-comment">//树状数组单点修改模板（维护原数组的前缀和）</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span><span class="hljs-number">+9</span>;<br>ll a[N],t[N];ll n,q;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x&amp;-x;&#125; <span class="hljs-comment">//留下二进制的倒数第一个1</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> k ,ll x)</span></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = k;i &lt;= n;i += <span class="hljs-built_in">lowbit</span>(i)) t[i] += x; <span class="hljs-comment">//将树状数组t赋值</span><br>&#125;<br><br><span class="hljs-function">ll <span class="hljs-title">getsum</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>ll res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = k;i &gt; <span class="hljs-number">0</span>;i -= <span class="hljs-built_in">lowbit</span>(i)) res += t[i];<span class="hljs-comment">//得到k的前缀和</span><br><span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>cin &gt;&gt; n &gt;&gt; q;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i) cin &gt;&gt; a[i];<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i) <span class="hljs-built_in">update</span>(i, a[i]);<br><br><span class="hljs-keyword">while</span>(q--)<br>&#123;<br><span class="hljs-type">int</span> op;cin &gt;&gt; op;<br><span class="hljs-keyword">if</span>(op == <span class="hljs-number">1</span>)<br>&#123;<br>ll k,v;cin &gt;&gt; k &gt;&gt; v;<br><span class="hljs-built_in">update</span>(k,v);<br>&#125;<span class="hljs-keyword">else</span><br>&#123;<br>ll l,r;cin &gt;&gt; l &gt;&gt; r;<br>cout &lt;&lt; <span class="hljs-built_in">getsum</span>(r) - <span class="hljs-built_in">getsum</span>(l<span class="hljs-number">-1</span>) &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//树状数组维护差分</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">3e5</span><span class="hljs-number">+9</span>;<br>ll a[N],td[N],tid[N];ll n,q;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x&amp;-x;&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> k ,ll x)</span></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = k;i &lt;= n;i += <span class="hljs-built_in">lowbit</span>(i)) td[i] += x,tid[i] += k * x;<br>&#125;<br><br><span class="hljs-function">ll <span class="hljs-title">getsum</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>ll res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = k;i &gt; <span class="hljs-number">0</span>;i -= <span class="hljs-built_in">lowbit</span>(i)) res += (k<span class="hljs-number">+1</span>) * td[i] - tid[i];<br><span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>cin &gt;&gt; n &gt;&gt; q;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i) cin &gt;&gt; a[i];<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i) <span class="hljs-built_in">update</span>(i, a[i]),<span class="hljs-built_in">update</span>(i + <span class="hljs-number">1</span>, -a[i]);<br><br><span class="hljs-keyword">while</span>(q--)<br>&#123;<br><span class="hljs-type">int</span> op;cin &gt;&gt; op;<br><span class="hljs-keyword">if</span>(op == <span class="hljs-number">1</span>)<br>&#123;<br>ll l,r,v;cin &gt;&gt; l &gt;&gt; r &gt;&gt; v;<br><span class="hljs-built_in">update</span>(l,v),<span class="hljs-built_in">update</span>(r + <span class="hljs-number">1</span>,-v);<br>&#125;<span class="hljs-keyword">else</span><br>&#123;<br>ll l,r;cin &gt;&gt; l &gt;&gt; r;<br>cout &lt;&lt; <span class="hljs-built_in">getsum</span>(r) - <span class="hljs-built_in">getsum</span>(l<span class="hljs-number">-1</span>) &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br>&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++中各类函数的用法</title>
    <link href="/posts/5513a8e3.html"/>
    <url>/posts/5513a8e3.html</url>
    
    <content type="html"><![CDATA[<h1 id="C-中各类函数和方法的用法"><a href="#C-中各类函数和方法的用法" class="headerlink" title="C++中各类函数和方法的用法"></a>C++中各类函数和方法的用法</h1><h3 id="1-bitset"><a href="#1-bitset" class="headerlink" title="1.bitset"></a>1.bitset</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">bitset</span>&lt;n&gt;(x) <span class="hljs-comment">//将x转换为n进制数</span><br></code></pre></td></tr></table></figure><h3 id="2-vector"><a href="#2-vector" class="headerlink" title="2.vector"></a>2.vector</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++">vector&lt;<span class="hljs-type">int</span>&gt; a;             <span class="hljs-comment">//可以自动维护数组长度，适合用在增删查改数组上</span><br><br>vector中的方法：<br>    a.<span class="hljs-built_in">push_back</span>(n)         <span class="hljs-comment">//将放入a的最后一位</span><br>    a.<span class="hljs-built_in">begin</span>()   <span class="hljs-comment">//代指a的第一个数据的位置</span><br>    a.<span class="hljs-built_in">end</span>()   <span class="hljs-comment">//代指a的最后一个数据的位置</span><br>    a.<span class="hljs-built_in">erase</span>(x,y)   <span class="hljs-comment">//将a中的x——y范围的数据全部删除，此时vector会自动维护长度</span><br>    a.<span class="hljs-built_in">pop_back</span>()   <span class="hljs-comment">//将a中的最后一个元素清除</span><br></code></pre></td></tr></table></figure><h3 id="3-reverse"><a href="#3-reverse" class="headerlink" title="3.reverse"></a>3.reverse</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">reverse</span>(x,y); <span class="hljs-comment">//翻转数组中范围为x——y的元素</span><br></code></pre></td></tr></table></figure><h3 id="4-memset"><a href="#4-memset" class="headerlink" title="4.memset"></a>4.memset</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">memset</span>(c, <span class="hljs-number">0</span> ,<span class="hljs-built_in">sizeof</span>(<span class="hljs-type">int</span>) * (n + <span class="hljs-number">1</span>) ); <span class="hljs-comment">//将c中在n+1之前的所有元素更改为0</span><br></code></pre></td></tr></table></figure><h3 id="5-abs"><a href="#5-abs" class="headerlink" title="5.abs()"></a>5.abs()</h3><p>求绝对值</p><h3 id="6-sort"><a href="#6-sort" class="headerlink" title="6.sort()"></a>6.sort()</h3>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java字符串方法</title>
    <link href="/posts/b324aa57.html"/>
    <url>/posts/b324aa57.html</url>
    
    <content type="html"><![CDATA[<h1 id="Java字符串方法"><a href="#Java字符串方法" class="headerlink" title="Java字符串方法"></a>Java字符串方法</h1><p>1.equals</p><p>eg：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Bro&quot;</span>;<br><br><span class="hljs-type">boolean</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> name.equals(<span class="hljs-string">&quot;Bro&quot;</span>);<br><br>System.out.println(res);<br></code></pre></td></tr></table></figure><p>equal可以比较两个字符串是否相同，得到的结果是布尔值，即true or false。</p><p>2.length</p><p>   得到字符串长度</p><p>3.charAt</p><p>eg:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hainoir&quot;</span>;<br><br><span class="hljs-type">char</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> name.charAt(<span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure><p>可得到对应参数的字符，结果是h</p><p>4.indexOf</p><p>eg:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hainoir&quot;</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> name.indexOf(h);<br></code></pre></td></tr></table></figure><p>可以得到参数字符的位置，结果是0；</p><p>5.isEmpty</p><p>eg: </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br><br><span class="hljs-type">boolean</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> name.isEmpty();<br></code></pre></td></tr></table></figure><p>可以判断字符串是否为空，结果类型是布尔值，得到true；</p><p>6.toUpperCase  </p><p>eg：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hainoir&quot;</span>;<br><br><span class="hljs-type">String</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> name.toUpperCase();<br></code></pre></td></tr></table></figure><p>可以将字符串全部变为大写，即HAINOIR</p><p>小写用toLowerCase();</p><p>7.trim</p><p>将删除字符串中的所有空格</p><p>8.replace</p><p>eg：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hainoir&quot;</span>;<br><br><span class="hljs-type">String</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> name.replace(<span class="hljs-string">&#x27;o&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>);<br></code></pre></td></tr></table></figure><p>replace 中的两个参数，将第一个全部替换为第二个，故结果为hainair；</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>java算法</title>
    <link href="/posts/2f8a531c.html"/>
    <url>/posts/2f8a531c.html</url>
    
    <content type="html"><![CDATA[<p>1.最大公约数gcd</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">gcd</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> y==<span class="hljs-number">0</span>?x:gcd(y,x%y);<br>&#125;<br></code></pre></td></tr></table></figure><p>2.最小公倍数lcm</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lcm</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> <br>&#123;<br>        <span class="hljs-keyword">return</span> a / gcd(a, b)*b;<br>&#125;<br></code></pre></td></tr></table></figure><p>3.素数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isPrime2</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">3</span>) &#123;<br><span class="hljs-keyword">return</span> n &gt; <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-variable">sqrt</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) Math.sqrt(n);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; i &lt;= sqrt; i++) &#123;<br><span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>4.素数筛（预处理素数）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;i &lt; v.length;++i) <br>&#123;<br><span class="hljs-keyword">if</span>(v[i] == <span class="hljs-number">0</span>) <br>&#123;<br>list.add(i);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> i * i;j &lt; v.length;j+=i) <br>&#123;<br>v[j] = <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>常见的算法</title>
    <link href="/posts/b74716b.html"/>
    <url>/posts/b74716b.html</url>
    
    <content type="html"><![CDATA[<h1 id="常见的算法"><a href="#常见的算法" class="headerlink" title="常见的算法"></a>常见的算法</h1><h3 id="1-两点间距离"><a href="#1-两点间距离" class="headerlink" title="1.两点间距离"></a>1.两点间距离</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">sqrt</span>( <span class="hljs-built_in">pow</span>( <span class="hljs-built_in">abs</span>(x1-x2) ,<span class="hljs-number">2</span> ) + <span class="hljs-built_in">pow</span>( <span class="hljs-built_in">abs</span>(y1-y2) ) , <span class="hljs-number">2</span> )    <span class="hljs-comment">//sqrt()开平方根</span><br>     <span class="hljs-comment">//pow(x,y) 得到x的y次方</span><br>也可以：<span class="hljs-built_in">sqrt</span>( (x1-x2)*(x1-x2) + (y1-y2)*(y1-y2) )     <span class="hljs-comment">//abs() 得到参数的绝对值</span><br></code></pre></td></tr></table></figure><h3 id="2-求质数"><a href="#2-求质数" class="headerlink" title="2.求质数"></a>2.求质数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// x = a * b  -&gt;  min(a,b) &lt;=sqrt(x)</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">chk</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>;i * i &lt;= x;++i)&#123;<br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-对数组进行重复且不叠加的修改时"><a href="#3-对数组进行重复且不叠加的修改时" class="headerlink" title="3.对数组进行重复且不叠加的修改时"></a>3.对数组进行重复且不叠加的修改时</h3><h5 id="1-可以令数组全为0，令被修改的数为1"><a href="#1-可以令数组全为0，令被修改的数为1" class="headerlink" title="1.可以令数组全为0，令被修改的数为1"></a>1.可以令数组全为0，令被修改的数为1</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">eg：<span class="hljs-type">int</span> a[n] = &#123;<span class="hljs-number">0</span>&#125;;<br>i符合条件： a[i] = <span class="hljs-number">1</span>；<br></code></pre></td></tr></table></figure><h5 id="2-可以用bool-定义数组"><a href="#2-可以用bool-定义数组" class="headerlink" title="2.可以用bool 定义数组"></a>2.可以用bool 定义数组</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">eg：  <span class="hljs-type">bool</span> a[n];<br>i符合条件：a[i] = <span class="hljs-number">1</span>; <br></code></pre></td></tr></table></figure><h3 id="4-输出小数"><a href="#4-输出小数" class="headerlink" title="4.输出小数"></a>4.输出小数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">cout &lt;&lt; fixed &lt;&lt;  <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">1</span>) &lt;&lt; res &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.前缀和与差分</title>
    <link href="/posts/32c27e41.html"/>
    <url>/posts/32c27e41.html</url>
    
    <content type="html"><![CDATA[<h2 id="1-prefix-前缀和数组"><a href="#1-prefix-前缀和数组" class="headerlink" title="1.prefix    前缀和数组"></a>1.prefix    前缀和数组</h2><p> <code>p[i] = p[i-1] + a[i];</code></p><p>优点：便于数组查找</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//https://www.starrycoding.com/problem/7</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll =<span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span><span class="hljs-number">+9</span>;<br>ll a[N],p[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>   ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>   <span class="hljs-type">int</span> T;cin &gt;&gt; T;<br>   <span class="hljs-keyword">while</span>(T--)&#123;<br>   ll n,q;cin &gt;&gt; n &gt;&gt; q;<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)&#123;<br>   cin &gt;&gt; a[i];<br>   &#125;<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)&#123;<br>   p[i] = p[i<span class="hljs-number">-1</span>] + a[i];<br>   &#125;<br>   <span class="hljs-keyword">while</span>(q--)&#123;<br>   ll l,r;cin &gt;&gt; l &gt;&gt; r;<br>   cout &lt;&lt; p[r] - p[l<span class="hljs-number">-1</span>] &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>   &#125;<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-diff-差分数组"><a href="#2-diff-差分数组" class="headerlink" title="2.diff   差分数组"></a>2.diff   差分数组</h2><p><code>d[i] = a[i] - a[i-1];</code></p><p>优点：便于数组修改</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//https://www.starrycoding.com/problem/8</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll =<span class="hljs-type">long</span> <span class="hljs-type">long</span> ;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span><span class="hljs-number">+9</span>;<br>ll a[N],c[N],d[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>   ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>   ll n,p,q;cin &gt;&gt; n &gt;&gt; p &gt;&gt; q;<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)cin &gt;&gt; a[i];<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)d[i] = a[i] - a[i<span class="hljs-number">-1</span>];<br>   <span class="hljs-keyword">while</span>(p--)&#123;<br>   ll l,r,x;cin &gt;&gt; l &gt;&gt; r &gt;&gt; x;<br>   d[l] += x;d[r<span class="hljs-number">+1</span>] -= x;<br>   &#125;<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)a[i] = a[i - <span class="hljs-number">1</span>] + d[i];<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)c[i] = c[i - <span class="hljs-number">1</span>] + a[i];<br>   <span class="hljs-keyword">while</span>(q--)&#123;<br>   ll l,r;cin &gt;&gt; l &gt;&gt; r;<br>   cout &lt;&lt; c[r] - c[l<span class="hljs-number">-1</span>] &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-二位前缀和"><a href="#3-二位前缀和" class="headerlink" title="3.二位前缀和"></a>3.二位前缀和</h2><p><code>p[i][j] = p[i-1][j] + p[i][j-1] - p[i-1][j-1] + a[i][j];</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//https://www.starrycoding.com/problem/15</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e3</span><span class="hljs-number">+9</span>;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br>ll  a[N][N],p[N][N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>   ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>   <span class="hljs-type">int</span> n,m,q;cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;<br>   <br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;++j)<br>   cin &gt;&gt; a[i][j];<br><br>   <br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;++i)<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;++j)<br>   p[i][j] = p[i<span class="hljs-number">-1</span>][j] + p[i][j<span class="hljs-number">-1</span>] - p[i<span class="hljs-number">-1</span>][j<span class="hljs-number">-1</span>] + a[i][j];<br>   <br>   <span class="hljs-keyword">while</span>(q--)&#123;<br>   <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>   <span class="hljs-type">int</span> x1,y1,x2,y2;cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;<br>   res = p[x2][y2] - p[x1<span class="hljs-number">-1</span>][y2] - p[x2][y1<span class="hljs-number">-1</span>] + p[x1<span class="hljs-number">-1</span>][y1<span class="hljs-number">-1</span>];<br>   cout &lt;&lt; res &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-二维差分"><a href="#4-二维差分" class="headerlink" title="4.二维差分"></a>4.二维差分</h2><h4 id="1-差分求法"><a href="#1-差分求法" class="headerlink" title="1.差分求法"></a>1.差分求法</h4><p><code>d[i][j] = a[i][j] - a[i-1][j] - a[i][j-1] + a[i-1][j-1]</code></p><p>以上这个求法，是将原式作为所求差分的前缀和。</p><h4 id="2-标准求法"><a href="#2-标准求法" class="headerlink" title="2.标准求法"></a>2.标准求法</h4><p><code>d[i][j] += a[i][j];</code></p><p><code>d[i + 1][j] -= a[i][j];</code></p><p><code>d[i][j + 1] -= a[i][j];</code></p><p><code>d[i + 1][j + 1] += a[i][j];</code></p><p>两种求法一样，可以互相推导</p><p>eg：<code>d[i + 1][j] -= a[i][j];     =     </code>d[i][j] -&#x3D; a[i-1][j]&#96;</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//https://www.starrycoding.com/problem/50</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e3</span><span class="hljs-number">+10</span>;<br>ll a[N][N], d[N][N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>   ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>   <span class="hljs-type">int</span> n,m,q;<br>   cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;<br>   <br>   <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>   &#123;<br>   <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>   &#123;<br>   cin &gt;&gt; a[i][j];<br>   d[i][j] += a[i][j];<br>   d[i + <span class="hljs-number">1</span>][j] -= a[i][j];<br>   d[i][j + <span class="hljs-number">1</span>] -= a[i][j];<br>   d[i + <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>] += a[i][j];<br>   &#125;<br>   &#125;<br>   <span class="hljs-keyword">while</span> (q--)<br>   &#123;<br>   <span class="hljs-type">int</span> x1, x2, y1, y2, c;<br>   cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; c;<br>   d[x1][y1] += c;<br>   d[x1][y2 + <span class="hljs-number">1</span>] -= c;<br>   d[x2 + <span class="hljs-number">1</span>][y1] -= c;<br>   d[x2 + <span class="hljs-number">1</span>][y2 + <span class="hljs-number">1</span>] += c;<br>   &#125;<br>   <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>   &#123;<br>   <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>   &#123;<br>   a[i][j] = a[i - <span class="hljs-number">1</span>][j] + a[i][j - <span class="hljs-number">1</span>] - a[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + d[i][j];<br>   cout &lt;&lt; a[i][j] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>   &#125;<br>   cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>   &#125;<br>   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
